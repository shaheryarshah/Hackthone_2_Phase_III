<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Chatbot Demo - GitHub Pages</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #f5f7fa;
            color: #333;
        }
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            margin-bottom: 2rem;
        }
        h1 {
            margin: 0;
            font-size: 2.5rem;
        }
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-top: 0.5rem;
        }
        .demo-container {
            display: flex;
            gap: 2rem;
            margin-bottom: 2rem;
        }
        @media (max-width: 768px) {
            .demo-container {
                flex-direction: column;
            }
        }
        .chat-section {
            flex: 2;
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .features-section {
            flex: 1;
            background: white;
            border-radius: 10px;
            padding: 1.5rem;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        .chat-messages {
            height: 400px;
            overflow-y: auto;
            border: 1px solid #e1e5e9;
            border-radius: 8px;
            padding: 1rem;
            margin-bottom: 1rem;
            background-color: #fafafa;
        }
        .message {
            margin-bottom: 1rem;
            padding: 0.75rem;
            border-radius: 8px;
            max-width: 80%;
        }
        .user-message {
            background-color: #dcf8c6;
            margin-left: auto;
            text-align: left;
            border-bottom-right-radius: 2px;
        }
        .bot-message {
            background-color: #ffffff;
            margin-right: auto;
            border: 1px solid #e1e5e9;
            border-bottom-left-radius: 2px;
        }
        .message-header {
            font-weight: bold;
            margin-bottom: 0.25rem;
            font-size: 0.9rem;
        }
        .input-area {
            display: flex;
            gap: 0.5rem;
        }
        .input-area textarea {
            flex: 1;
            padding: 0.75rem;
            border: 1px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            resize: vertical;
            min-height: 50px;
            max-height: 150px;
        }
        .input-area button {
            padding: 0.75rem 1.5rem;
            background: #667eea;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
        }
        .input-area button:disabled {
            background: #ccc;
            cursor: not-allowed;
        }
        .feature-list {
            list-style: none;
            padding: 0;
        }
        .feature-list li {
            padding: 0.75rem 0;
            border-bottom: 1px solid #eee;
            display: flex;
            align-items: flex-start;
        }
        .feature-list li:last-child {
            border-bottom: none;
        }
        .feature-icon {
            margin-right: 0.75rem;
            font-size: 1.2rem;
            margin-top: 0.25rem;
        }
        .info-box {
            background: #e3f2fd;
            border-left: 4px solid #2196f3;
            padding: 1rem;
            margin: 1rem 0;
            border-radius: 0 4px 4px 0;
        }
        .voice-btn {
            background: #28a745;
            color: white;
            border: none;
            border-radius: 50%;
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            margin-left: 10px;
        }
        .voice-btn.recording {
            background: #dc3545;
        }
        .loading {
            color: #666;
            font-style: italic;
        }
    </style>
</head>
<body>
    <header>
        <div class="container">
            <h1>AI Chatbot Demo</h1>
            <div class="subtitle">Multilingual Support ‚Ä¢ Voice Processing ‚Ä¢ Task Management</div>
        </div>
    </header>

    <div class="container">
        <div class="demo-container">
            <div class="chat-section">
                <h2>Interactive Chat Interface</h2>
                <div class="chat-messages" id="chatMessages">
                    <div class="message bot-message">
                        <div class="message-header">Assistant:</div>
                        <div>Hello! I'm your AI assistant. I can help you with tasks, translate between languages, and process voice commands. How can I assist you today?</div>
                    </div>
                </div>
                <div class="input-area">
                    <textarea id="messageInput" placeholder="Type your message here... (Supports English and Urdu)" onkeypress="handleKeyPress(event)"></textarea>
                    <div style="display: flex; flex-direction: column; gap: 8px;">
                        <button onclick="sendMessage()" id="sendBtn">Send</button>
                        <button class="voice-btn" onclick="toggleVoiceInput()" id="voiceBtn" title="Voice Input">‚óè</button>
                    </div>
                </div>
            </div>

            <div class="features-section">
                <h2>Features</h2>
                <ul class="feature-list">
                    <li>
                        <span class="feature-icon">üåç</span>
                        <span><strong>Multilingual Support</strong><br>Bi-directional translation between English and Urdu with RTL formatting</span>
                    </li>
                    <li>
                        <span class="feature-icon">üé§</span>
                        <span><strong>Voice Command Processing</strong><br>Voice input with intent extraction</span>
                    </li>
                    <li>
                        <span class="feature-icon">üìã</span>
                        <span><strong>Smart Task Management</strong><br>Create, update, and manage tasks through chat interface</span>
                    </li>
                    <li>
                        <span class="feature-icon">ü§ñ</span>
                        <span><strong>Subagent Orchestration</strong><br>Specialized agents for different functions</span>
                    </li>
                    <li>
                        <span class="feature-icon">üîí</span>
                        <span><strong>Secure Database Access</strong><br>MCP SDK for safe operations</span>
                    </li>
                    <li>
                        <span class="feature-icon">üîÑ</span>
                        <span><strong>Reusable Intelligence</strong><br>Agent Skills for modular functionality</span>
                    </li>
                </ul>

                <div class="info-box">
                    <strong>Note:</strong> This is a frontend demonstration. The full application requires a backend API server to function properly. Visit the <a href="https://github.com/shaheryarshah/Hackthone_2_Phase_III" target="_blank">GitHub repository</a> for complete setup instructions.
                </div>
            </div>
        </div>

        <div style="background: white; border-radius: 10px; padding: 1.5rem; box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);">
            <h2>About This Project</h2>
            <p>This AI Chatbot with Reusable Intelligence implements advanced features including multilingual support, voice command processing, and task management capabilities. The system follows Phase III Constitution principles with specialized subagents for different functions.</p>

            <h3>Architecture</h3>
            <p><strong>Backend (FastAPI):</strong> SQLModel-based data models, translation services, chat services, and MCP server for safe database operations.</p>
            <p><strong>Frontend (React):</strong> ChatInterface with voice input, TaskDisplay, and RTL support for multilingual features.</p>

            <h3>How to Run Locally</h3>
            <pre style="background: #f4f4f4; padding: 1rem; border-radius: 4px; font-size: 0.9rem; overflow-x: auto;">
# Backend Setup
cd backend
pip install -r requirements.txt
python -m src.main

# Frontend Setup
cd frontend
npm install
npm run dev
            </pre>
        </div>
    </div>

    <script>
        let isRecording = false;
        let isProcessing = false;

        function sendMessage() {
            const input = document.getElementById('messageInput');
            const message = input.value.trim();

            if (message && !isProcessing) {
                isProcessing = true;

                // Add user message
                const chatMessages = document.getElementById('chatMessages');
                const userMessageDiv = document.createElement('div');
                userMessageDiv.className = 'message user-message';
                userMessageDiv.innerHTML = `
                    <div class="message-header">You:</div>
                    <div>${escapeHtml(message)}</div>
                `;
                chatMessages.appendChild(userMessageDiv);

                // Clear input
                input.value = '';
                input.style.height = '50px';

                // Show loading indicator
                const loadingDiv = document.createElement('div');
                loadingDiv.className = 'message bot-message loading';
                loadingDiv.id = 'loading';
                loadingDiv.innerHTML = `
                    <div class="message-header">Assistant:</div>
                    <div>Assistant is typing...</div>
                `;
                chatMessages.appendChild(loadingDiv);

                chatMessages.scrollTop = chatMessages.scrollHeight;

                // Simulate API delay and generate response
                setTimeout(() => {
                    // Remove loading indicator
                    const loadingElement = document.getElementById('loading');
                    if (loadingElement) {
                        loadingElement.remove();
                    }

                    // Generate response based on user input
                    let response = generateResponse(message);

                    // Add bot response
                    const botMessageDiv = document.createElement('div');
                    botMessageDiv.className = 'message bot-message';
                    botMessageDiv.innerHTML = `
                        <div class="message-header">Assistant:</div>
                        <div>${escapeHtml(response)}</div>
                    `;
                    chatMessages.appendChild(botMessageDiv);

                    chatMessages.scrollTop = chatMessages.scrollHeight;
                    isProcessing = false;
                }, 1500);
            }
        }

        function generateResponse(userMessage) {
            const lowerMsg = userMessage.toLowerCase();

            if (lowerMsg.includes('hello') || lowerMsg.includes('hi') || lowerMsg.includes('hey')) {
                return "Hello! I'm your AI assistant. How can I help you today?";
            } else if (lowerMsg.includes('task') || lowerMsg.includes('todo') || lowerMsg.includes('to do')) {
                return "I can help you manage tasks! You can create, update, or delete tasks through our interface. Would you like to try creating a task?";
            } else if (lowerMsg.includes('translate') || lowerMsg.includes('urdu') || lowerMsg.includes('language')) {
                return "I support bidirectional translation between English and Urdu. Just type in Urdu and I'll respond appropriately with proper RTL formatting!";
            } else if (lowerMsg.includes('voice') || lowerMsg.includes('speak') || lowerMsg.includes('audio')) {
                return "Voice command processing is supported in the full application. You can speak to me and I'll understand and respond to your commands.";
            } else if (lowerMsg.includes('help')) {
                return "I can help you with various tasks:\\n‚Ä¢ Create and manage tasks\\n‚Ä¢ Translate between English and Urdu\\n‚Ä¢ Process voice commands\\n‚Ä¢ Answer questions about the application\\n\\nWhat would you like to do?";
            } else if (lowerMsg.includes('name')) {
                return "I'm an AI assistant built as part of the AI Chatbot with Reusable Intelligence project. I can help you with tasks, translations, and more!";
            } else if (lowerMsg.includes('project') || lowerMsg.includes('about')) {
                return "This is the AI Chatbot with Reusable Intelligence project. It features multilingual support, voice processing, and task management capabilities with specialized subagents for different functions.";
            } else {
                const responses = [
                    "That's interesting! Tell me more about what you need.",
                    "I understand. How else can I assist you?",
                    "Thanks for sharing! Is there anything specific you'd like help with?",
                    "I'm here to help! What else would you like to know?",
                    "Great question! I can help with various tasks and information.",
                    "I can assist you with task management, translations, and more!",
                    "Feel free to ask me about tasks, translations, or voice commands.",
                    "I'm designed to help with productivity tasks and multilingual communication."
                ];
                return responses[Math.floor(Math.random() * responses.length)];
            }
        }

        function escapeHtml(text) {
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage();
            }
        }

        function toggleVoiceInput() {
            const voiceBtn = document.getElementById('voiceBtn');
            const chatMessages = document.getElementById('chatMessages');

            if (!isRecording) {
                // Start recording simulation
                isRecording = true;
                voiceBtn.classList.add('recording');
                voiceBtn.textContent = '‚óè';

                // Add voice input message
                const voiceMessageDiv = document.createElement('div');
                voiceMessageDiv.className = 'message user-message';
                voiceMessageDiv.innerHTML = `
                    <div class="message-header">You (Voice):</div>
                    <div>Simulated voice input: "This is a test of the voice input feature."</div>
                `;
                chatMessages.appendChild(voiceMessageDiv);

                chatMessages.scrollTop = chatMessages.scrollHeight;

                // Simulate voice processing
                setTimeout(() => {
                    let response = "I heard your voice input. In the full application, this would be processed through a speech-to-text service and I would respond appropriately.";

                    const botMessageDiv = document.createElement('div');
                    botMessageDiv.className = 'message bot-message';
                    botMessageDiv.innerHTML = `
                        <div class="message-header">Assistant:</div>
                        <div>${escapeHtml(response)}</div>
                    `;
                    chatMessages.appendChild(botMessageDiv);

                    chatMessages.scrollTop = chatMessages.scrollHeight;
                }, 2000);
            } else {
                // Stop recording
                isRecording = false;
                voiceBtn.classList.remove('recording');
                voiceBtn.textContent = '‚óè';
            }
        }

        // Auto-resize textarea
        const messageInput = document.getElementById('messageInput');
        messageInput.addEventListener('input', function() {
            this.style.height = 'auto';
            this.style.height = (this.scrollHeight > 150 ? 150 : this.scrollHeight) + 'px';
        });

        // Auto-scroll to bottom of chat
        window.onload = function() {
            const chatMessages = document.getElementById('chatMessages');
            chatMessages.scrollTop = chatMessages.scrollHeight;
        };
    </script>
</body>
</html>